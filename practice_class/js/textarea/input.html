<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="input.css">
    <title>input</title>
</head>
<body>
    <!-- <div id="textarea"></div> -->
    <input type="checkbox" name="전체" value="전체">전체<br>
    <input type="checkbox" name="축구" value="축구">축구<br>
    <input type="checkbox" name="농구" value="농구">농구<br>
    <input type="checkbox" name="야구" value="야구">야구<br>
    <input type="checkbox" name="배구" value="배구">배구<br>

    <textarea id="message" name="message" rows="4" cols="50"></textarea>

      
    
    <script>
        window.onload = function(){
            // 1번) 태그에 대한 참조를 얻어온다.
            let inputarr = document.getElementsByTagName("input");
            let textarea = document.getElementById("message");
        
            // 2번) 태그에 이벤트를 등록한다.
            
            // 3번) input의 value값을 가져온다.
            // inputarr[1].value;   // input 2번째 줄의 value값
            
            // 3-1 checked된 value의 값만 가져온다.(if checked true안에 들어가면 됨)
            // textarea에 값을 보내는 방법
            // textarea.value = 값
            // value 값을 가져온 것을 textarea에 보냄
            // textarea.value = inputarr[1].value;

            // inputarr[n].onclick을 할 시에 값이 전송이 되어야함
            // function(){}안에 들어가야할듯
            // 그러면 전체를 체크했을때 값을 전송하려면 반복문안에 있어야하나?
            // textarea에 글이 들어가려면 textContent, value 이런게 있음 
            // defaultvalue는 내가 html에서 적어준 내용이 들어있음
            inputarr[0].onclick = function () {
                // alert("hello");
                // 체크가 되면 true 아니면 false
                // 클릭을 하면 inputarr 배열이 모두 체크가 되어야 한다.
               
                if(inputarr[0].checked == true){   
                    for(i=1;i<5;i++){
                        inputarr[i].checked = true;
                        textarea.value += inputarr[i].value;
                    }
                } else if (inputarr[0].checked == false){
                    for(i=1;i<5;i++){
                        inputarr[i].checked = false;
                        // textarea.value -= inputarr[i].value;
                        // textarea.value가 문자열이기 때문에 -=는 숫자형 데이터에 사용해서
                        // 마지막에 NAN반환. replace()로 문자열 제거
                        textarea.value = '';
                        // textarea.value.replace(inputarr[i].value,"");    
                    }
                }
            }
            for(let j=1;j<=4;j++){
                inputarr[j].onclick = function(){
                    if(inputarr[j].checked == true) {
                    textarea.value += inputarr[j].value;
                } else if(inputarr[j].checked == false) {
                    textarea.value = textarea.value.replace(inputarr[j].value,"");
                } 
                }
            }
            // inputarr[1].onclick = function() {
            //     // 개별 체크 및 해제 기능 구현해야함
            //     // 1. inputarr[1]을 체크를 하면 inputarr[1].value가
            //     // textarea.value에 들어가야함 
            //     // 일단 if문 4개 하드코딩. 
            //     // 4. 아.. if문 조건에 or을 쓰면 1또는2또는3또는4가 체크일때 란 조건은 되는데
            //     // 음..내용은 1,2가 체크면 1,2가 다 들어가야하는데.. 어떻게 적어야하지?
            //     // console.log(inputarr[1].checked);
            //     // console.log(textarea.value);
            //     if(inputarr[1].checked == true) {
            //         // console.log(inputarr[1].checked);
            //         // console.log(textarea.value);
            //         textarea.value += inputarr[1].value;
            //     } else if(inputarr[1].checked == false) {
            //         // console.log(inputarr[1].checked);
            //         // console.log(inputarr[1].value)
            //         // console.log(textarea.value = textarea.value.replace(inputarr[1].value,""));
            //         textarea.value = textarea.value.replace(inputarr[1].value,""); 
            //     }   
            // }
            // inputarr[2].onclick = function() {
            //     if(inputarr[2].checked == true) {
            //         textarea.value += inputarr[2].value;
            //     } else if(inputarr[2].checked == false) {
            //         textarea.value = textarea.value.replace(inputarr[2].value,"");
            //     }   
            // }
            // inputarr[3].onclick = function() {
            //     if(inputarr[3].checked == true) {
            //         textarea.value += inputarr[3].value;
            //     } else if(inputarr[3].checked == false) {
            //         textarea.value = textarea.value.replace(inputarr[3].value,"");
            //     }   
            // }
            // inputarr[4].onclick = function() {
            //     if(inputarr[4].checked == true) {
            //         textarea.value += inputarr[4].value;
            //     } else if(inputarr[4].checked == false) {
            //         textarea.value = textarea.value.replace(inputarr[4].value,"");
            //     }   
            // }
            // // 클릭시 적용 x 
            // // inputarr[1],2,3,4 (and).checked = true -> inputarr[0].checked=true
            // // 1,2,3,4 (or) 하나라도 .checked=false이면 -> [0].checked = false
                
            // if (inputarr[1].checked == true && inputarr[2].checked == true && inputarr[3].checked == true && inputarr[4].checked == true ) {
            //     inputarr[0].checked = true;
            // }
            // else if(inputarr[1].checked == false || inputarr[2].checked == false || inputarr[3].checked == false || inputarr[4].checked == false){
            //     inputarr[0].checked = false;
            // }
        }
        
        
        
    </script>
</body>
</html>